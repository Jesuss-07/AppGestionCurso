<div class="register-container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Email</label>
      <input 
        type="email" 
        id="email" 
        pInputText 
        formControlName="email"
        placeholder="Ingresa tu email">
      <small *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="error">
        Email inválido
      </small>
    </div>

    <div class="form-group">
      <label for="password">Contraseña</label>
      <p-password 
        id="password"
        formControlName="password" 
        [toggleMask]="true"
        placeholder="Ingresa tu contraseña"
        [feedback]="true">
      </p-password>
      <div class="password-rules">
        <span [class.rule-valid]="form.get('password')?.value?.length >= 8">8+ caracteres</span>
        <span [class.rule-valid]="contieneMayuscula()">1 mayúscula</span>
        <span [class.rule-valid]="contieneMinuscula()">1 minúscula</span>
        <span [class.rule-valid]="contieneNumero()">1 número</span>
        <span [class.rule-valid]="contieneCaracterEspecial()">1 carácter especial</span>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirmar Contraseña</label>
      <p-password 
        id="confirmPassword"
        formControlName="confirmPassword" 
        [toggleMask]="true"
        placeholder="Repite tu contraseña">
      </p-password>
      <small *ngIf="form.hasError('mismatch')" class="error">
        Las contraseñas no coinciden
      </small>
    </div>

    <button 
      pButton 
      type="submit" 
      label="Registrarse" 
      [disabled]="form.invalid"
      class="submit-button"></button>
  </form>
</div>